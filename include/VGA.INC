;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; file: vga.inc
;
;  Some routines for VGA coding.
;
;       by C굎ar Guirao Robles, a.k.a. Nitro! / #Trouble# Team
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴


; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para seleccionar la altura de los caracteres
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        BL      Tama쨚 de caracter
;
;       Salida:         Nada.
;
        extrn           CharSize:near

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para fijar la direccion de inicio de la CRTC
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        BX      Direccion de inicio
;
;       Salida:         Nada.
;
        extrn           ScreenStart:near

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para fijar el scanline del SplitScreen
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        BX      Scanline a partir del cual se realizara el
;                               SplitScreen
;
;       Salida:         Nada.
;
        extrn           SetSplit:near

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para esperar el comienzo del retrazo Vertical
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        Nada.
;
;       Salida:         Nada.
;

VerticalRStart  macro
        local   retrazo
        mov     dx,3dah         ; Esperamos al retrazo vertical
retrazo:
        in      al,dx
        test    al,8
        jz      retrazo
        endm

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para esperar el final del retrazo Vertical
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        Nada.
;
;       Salida:         Nada.
;

VerticalREnd  macro
        local   retrazo
        mov     dx,3dah         ; Esperamos al fin del retrazo vertical
retrazo:
        in      al,dx
        test    al,8
        jnz     retrazo
        endm


; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para esperar el comienzo del retrazo Horizontal
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        Nada.
;
;       Salida:         Nada.
;

HorizontalRStart    macro
        local   retrazo
        mov     dx,3dah         ; Esperamos al retrazo horizontal
retrazo:
        in      al,dx
        test    al,1
        jz      retrazo
        endm

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para esperar el final del retrazo Horizontal
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        Nada.
;
;       Salida:         Nada.
;

HorizontalREnd  macro
        local   retrazo
        mov     dx,3dah         ; Esperamos al final del retrazo horizontal
retrazo:
        in      al,dx
        test    al,1
        jnz     retrazo
        endm

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para ajustar el Vertical PEL Panning
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        AL      Posicion dentro del caracter
;
;       Salida:         Nada.
;

VerticalPELPan  macro
        mov     ah,al
        mov     al,8
        mov     dx,3d4h
        out     dx,ax
        endm

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para fijar la posicion del cursor
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        BX      Posicion del cursor
;
;       Salida:         Nada.
;
        extrn           SetCurPos:near

; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Rutina para obtener la posicion del cursor
; 컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
;       Entrada:        Nada.
;
;       Salida:         BX      Posicion del cursor
;
        extrn           GetCurPos:near
