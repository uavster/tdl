;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; KEYBOARD routines for common key handling
;       Coded by Ignacio Mellado Bataller a.k.a. B52 / the D@rkRising
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Enables keyboard extensions (sets irq1 handler)
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   enable_keyb: NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Disables keyboard extensions (restores irq1 handler) 
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   disable_keyb: NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Sets the routine to be called by a keyboard event
;
; INPUT -> AL = keyboard scancode
;          DS:EBX -> routine to be called when the scancode is received
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   add_key: NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Removes the routine called by a keyboard event
;
; INPUT -> AL = keyboard scancode
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   remove_key: NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Keyboard Table
;
;       NOTE: For each key in the map: 1 if pressed , 0 if not pressed
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   keyb_map: BYTE: 128         ; Nitro!


Key_Home        equ     47h
Key_Up          equ     48h
Key_PageUp      equ     49h
Key_Left        equ     4bh
Key_Right       equ     4dh
Key_End         equ     4fh
Key_Down        equ     50h
Key_PageDown    equ     51h
Key_ESC         equ     1
Key_f1          equ     3bh
Key_f2          equ     3ch
Key_f3          equ     3dh
Key_f4          equ     3eh
Key_f5          equ     3fh
Key_f6          equ     40h
Key_f7          equ     41h
Key_f8          equ     42h
Key_f9          equ     43h
Key_f10         equ     44h
Key_f11         equ     85h
Key_f12         equ     86h
Key_SPACE       equ     39h
