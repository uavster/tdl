;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Routines to handle with text fonts generated by FNTHEAD.EXE
;       Coded by Ignacio Mellado Bataller a.k.a. B52 / the D@rkRising
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Loads a font into memory and returns a handle
;
; INPUT  -> DS:EDX -> zero terminated font file (.FNT) name
;
; OUTPUT -> CF = 0 if success
;               EBX = font handle
;           CF = 1 if error
;               EBX = 0         Teknik ;)
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   load_font:NEAR

LoadFont        MACRO font_file
LOCAL   font_string,skip_string
        mov     edx,offset font_string
        call    load_font
        jmp     skip_string
font_string     db font_file,0
        skip_string:
ENDM

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Removes a font from memory
;
; INPUT -> EBX = font handle
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   kill_font:NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Returns size information from a character of a specified font
;
; INPUT  -> EBX = font handle ; AL = char
;
; OUTPUT -> CF = 0 if char is defined
;               ECX = horizontal size ; EDX = vertical size
;           CF = 1 if char is NOT defined
;               ECX = 0 ; EDX = 0       Teknik ;)
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   get_char_info:NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Prints a character in the specified coordinates of a memory buffer
;
; INPUT  -> EBX = font handle ; AL = char to write
;           ECX = X pos. ; EDX = Y pos. ; DS:EDI -> buffer for writting
;           ESI = X size of write buffer
;
; OUTPUT -> CF = 0 if success
;               ECX = X pos. of next char
;               EDX = Y pos. of next char
;           CF = 1 if char is undefined
;               ECX = 0                     Teknik ;)
;               EDX = 0                     Teknik ;)
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   print_char:NEAR

;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
; Prints an ASCIIZ string in the specified coordinates of a memory buffer
;
; INPUT  -> EBX = font handle ; DS:EAX -> ASCIIZ string to write
;           ECX = X pos ; EDX = Y pos ; DS:EDI -> buffer for writting
;           ESI = X size of write buffer
;
; OUTPUT -> CF = 0 if success
;           CF = 1 if char is undefined
;컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
extrn   print_string:NEAR
